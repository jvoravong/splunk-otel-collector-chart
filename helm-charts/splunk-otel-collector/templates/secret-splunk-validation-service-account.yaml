# The service account and pod to run a Helm hook for validating that custom a secret provided by user has all the
# required fields.
{{- if .Values.serviceAccount.create }}
{{ include "serviceAccountTemplate" . }}
    "helm.sh/hook": pre-upgrade,pre-install
    "helm.sh/hook-weight": "-2"
name: {{ template "splunk-otel-collector.serviceAccountName" . }}-validate-secret
{{- end }}
